"use strict";var searchHandler={initSearch:function(){document.getElementById("search").addEventListener("keypress",function(e){13!=e.keyCode||e.shiftKey||(e.preventDefault(),searchHandler.search())}),document.getElementById("searchButton").addEventListener("click",function(){searchHandler.search()})},searchWithTownName:function(e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var e=JSON.parse(n.responseText);console.log(e.results),e.results.length>0?searchHandler.succesfulResponse(e):searchHandler.failResponse()}else(403==n.readyState||404==n.status||500==n.status)&&songAndPlaylistHandler.apiError("Google Geocode")},n.open("GET","https://maps.googleapis.com/maps/api/geocode/json?address="+e+"&key=AIzaSyC9frD5YpO4uLFqw6ca-vuMn_obtsgR_CQ",!0),n.send()},succesfulResponse:function(e){mapHandler.initMap(e.results[0].geometry.location.lat,e.results[0].geometry.location.lng),songAndPlaylistHandler.townName=e.results[0].address_components[0].long_name,console.log(songAndPlaylistHandler.townName)},failResponse:function(){console.log("to the black bird");var e=document.getElementById("search");e.value="We are very sorry to tell you that we can't find annything"},search:function(){var e=document.getElementById("search");searchHandler.searchWithTownName(e.value),e.value="";document.getElementById("savelink");songAndPlaylistHandler.emptyResponse(),songAndPlaylistHandler.initButton()}};window.onload=searchHandler.initSearch();